// Code generated by ent, DO NOT EDIT.

package migrate

import (
	"entgo.io/ent/dialect/entsql"
	"entgo.io/ent/dialect/sql/schema"
	"entgo.io/ent/schema/field"
)

var (
	// AcmeIssuersColumns holds the columns for the "acme_issuers" table.
	AcmeIssuersColumns = []*schema.Column{
		{Name: "id", Type: field.TypeInt, Increment: true},
		{Name: "email", Type: field.TypeString, Comment: "ACME account email address"},
		{Name: "endpoint", Type: field.TypeString, Comment: "ACME server endpoint URL"},
		{Name: "key_type", Type: field.TypeEnum, Comment: "Key type (RSA or EC)", Enums: []string{"rsa", "ec"}, Default: "rsa"},
		{Name: "key_size", Type: field.TypeInt32, Comment: "Key size in bits (e.g., 2048, 3072, 4096 for RSA; 256, 384 for EC)", Default: 2048},
		{Name: "key_pem", Type: field.TypeString, Nullable: true, Size: 2147483647, Comment: "ACME account private key in PEM format"},
		{Name: "max_retries", Type: field.TypeInt32, Comment: "Maximum number of retry attempts", Default: 3},
		{Name: "base_delay", Type: field.TypeString, Comment: "Base delay between retries (e.g., '2s', '5m', '1h')", Default: "2s"},
		{Name: "challenge_type", Type: field.TypeEnum, Comment: "Challenge type for domain verification", Enums: []string{"HTTP", "DNS"}, Default: "HTTP"},
		{Name: "provider_name", Type: field.TypeString, Nullable: true, Comment: "DNS provider name for DNS challenges (e.g., 'cloudflare', 'route53')"},
		{Name: "provider_config", Type: field.TypeJSON, Nullable: true, Comment: "Provider-specific configuration for challenges"},
		{Name: "eab_kid", Type: field.TypeString, Nullable: true, Comment: "EAB Key Identifier for providers like ZeroSSL, Google Trust Services"},
		{Name: "eab_hmac_key", Type: field.TypeString, Nullable: true, Comment: "EAB HMAC Key (base64 encoded) - sensitive, never exposed"},
		{Name: "created_at", Type: field.TypeTime, Comment: "Creation time"},
		{Name: "updated_at", Type: field.TypeTime, Comment: "Update time"},
		{Name: "issuer_acme_configs", Type: field.TypeUint32},
	}
	// AcmeIssuersTable holds the schema information for the "acme_issuers" table.
	AcmeIssuersTable = &schema.Table{
		Name:       "acme_issuers",
		Columns:    AcmeIssuersColumns,
		PrimaryKey: []*schema.Column{AcmeIssuersColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "acme_issuers_issuers_acme_configs",
				Columns:    []*schema.Column{AcmeIssuersColumns[15]},
				RefColumns: []*schema.Column{IssuersColumns[0]},
				OnDelete:   schema.NoAction,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "acmeissuer_email",
				Unique:  false,
				Columns: []*schema.Column{AcmeIssuersColumns[1]},
			},
			{
				Name:    "acmeissuer_endpoint",
				Unique:  false,
				Columns: []*schema.Column{AcmeIssuersColumns[2]},
			},
			{
				Name:    "acmeissuer_challenge_type",
				Unique:  false,
				Columns: []*schema.Column{AcmeIssuersColumns[8]},
			},
			{
				Name:    "acmeissuer_eab_kid",
				Unique:  false,
				Columns: []*schema.Column{AcmeIssuersColumns[11]},
			},
			{
				Name:    "acmeissuer_created_at",
				Unique:  false,
				Columns: []*schema.Column{AcmeIssuersColumns[13]},
			},
		},
	}
	// LcmAuditLogsColumns holds the columns for the "lcm_audit_logs" table.
	LcmAuditLogsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUint32, Increment: true, Comment: "id"},
		{Name: "create_time", Type: field.TypeTime, Nullable: true, Comment: "创建时间"},
		{Name: "update_time", Type: field.TypeTime, Nullable: true, Comment: "更新时间"},
		{Name: "delete_time", Type: field.TypeTime, Nullable: true, Comment: "删除时间"},
		{Name: "tenant_id", Type: field.TypeUint32, Nullable: true, Comment: "租户ID", Default: 0},
		{Name: "audit_id", Type: field.TypeString, Unique: true, Comment: "Unique audit log identifier (UUID)"},
		{Name: "request_id", Type: field.TypeString, Nullable: true, Comment: "Request ID from metadata"},
		{Name: "operation", Type: field.TypeString, Comment: "gRPC operation path"},
		{Name: "service_name", Type: field.TypeString, Comment: "Service name", Default: "lcm-service"},
		{Name: "client_id", Type: field.TypeString, Nullable: true, Comment: "Client ID from certificate CN"},
		{Name: "client_common_name", Type: field.TypeString, Nullable: true, Comment: "Client certificate common name"},
		{Name: "client_organization", Type: field.TypeString, Nullable: true, Comment: "Client certificate organization"},
		{Name: "client_serial_number", Type: field.TypeString, Nullable: true, Comment: "Client certificate serial number"},
		{Name: "is_authenticated", Type: field.TypeBool, Comment: "Whether the client was authenticated via mTLS", Default: false},
		{Name: "success", Type: field.TypeBool, Comment: "Whether the operation succeeded", Default: true},
		{Name: "error_code", Type: field.TypeInt32, Nullable: true, Comment: "Error code if failed"},
		{Name: "error_message", Type: field.TypeString, Nullable: true, Comment: "Error message if failed"},
		{Name: "latency_ms", Type: field.TypeInt64, Comment: "Operation latency in milliseconds", Default: 0},
		{Name: "peer_address", Type: field.TypeString, Nullable: true, Comment: "Client IP address"},
		{Name: "geo_location", Type: field.TypeJSON, Nullable: true, Comment: "Geographic location info"},
		{Name: "log_hash", Type: field.TypeString, Nullable: true, Comment: "SHA-256 hash of the log content"},
		{Name: "signature", Type: field.TypeBytes, Nullable: true, Comment: "ECDSA signature for integrity verification"},
		{Name: "metadata", Type: field.TypeJSON, Nullable: true, Comment: "Additional metadata"},
	}
	// LcmAuditLogsTable holds the schema information for the "lcm_audit_logs" table.
	LcmAuditLogsTable = &schema.Table{
		Name:       "lcm_audit_logs",
		Columns:    LcmAuditLogsColumns,
		PrimaryKey: []*schema.Column{LcmAuditLogsColumns[0]},
		Indexes: []*schema.Index{
			{
				Name:    "auditlog_tenant_id",
				Unique:  false,
				Columns: []*schema.Column{LcmAuditLogsColumns[4]},
			},
			{
				Name:    "auditlog_tenant_id_client_id",
				Unique:  false,
				Columns: []*schema.Column{LcmAuditLogsColumns[4], LcmAuditLogsColumns[9]},
			},
			{
				Name:    "auditlog_tenant_id_operation",
				Unique:  false,
				Columns: []*schema.Column{LcmAuditLogsColumns[4], LcmAuditLogsColumns[7]},
			},
			{
				Name:    "auditlog_tenant_id_success",
				Unique:  false,
				Columns: []*schema.Column{LcmAuditLogsColumns[4], LcmAuditLogsColumns[14]},
			},
			{
				Name:    "auditlog_operation",
				Unique:  false,
				Columns: []*schema.Column{LcmAuditLogsColumns[7]},
			},
			{
				Name:    "auditlog_client_id",
				Unique:  false,
				Columns: []*schema.Column{LcmAuditLogsColumns[9]},
			},
			{
				Name:    "auditlog_success",
				Unique:  false,
				Columns: []*schema.Column{LcmAuditLogsColumns[14]},
			},
			{
				Name:    "auditlog_peer_address",
				Unique:  false,
				Columns: []*schema.Column{LcmAuditLogsColumns[18]},
			},
		},
	}
	// CertificateDetailsColumns holds the columns for the "certificate_details" table.
	CertificateDetailsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUint32, Increment: true, Comment: "id"},
		{Name: "create_by", Type: field.TypeUint32, Nullable: true, Comment: "创建者ID"},
		{Name: "update_by", Type: field.TypeUint32, Nullable: true, Comment: "更新者ID"},
		{Name: "create_time", Type: field.TypeTime, Nullable: true, Comment: "创建时间"},
		{Name: "update_time", Type: field.TypeTime, Nullable: true, Comment: "更新时间"},
		{Name: "delete_time", Type: field.TypeTime, Nullable: true, Comment: "删除时间"},
		{Name: "serial_number", Type: field.TypeString, Nullable: true, Comment: "Certificate serial number"},
		{Name: "ip_addresses", Type: field.TypeJSON, Nullable: true, Comment: "IP addresses from certificate SAN"},
		{Name: "subject_common_name", Type: field.TypeString, Nullable: true, Comment: "Subject common name"},
		{Name: "subject_organization", Type: field.TypeString, Nullable: true, Comment: "Subject organization"},
		{Name: "subject_organizational_unit", Type: field.TypeString, Nullable: true, Comment: "Subject organizational unit"},
		{Name: "subject_country", Type: field.TypeString, Nullable: true, Comment: "Subject country"},
		{Name: "subject_state", Type: field.TypeString, Nullable: true, Comment: "Subject state/province"},
		{Name: "subject_locality", Type: field.TypeString, Nullable: true, Comment: "Subject locality/city"},
		{Name: "issuer_common_name", Type: field.TypeString, Nullable: true, Comment: "Issuer common name"},
		{Name: "issuer_organization", Type: field.TypeString, Nullable: true, Comment: "Issuer organization"},
		{Name: "issuer_country", Type: field.TypeString, Nullable: true, Comment: "Issuer country"},
		{Name: "issuer_type", Type: field.TypeString, Nullable: true, Comment: "Type of issuer: self-signed, acme, unknown", Default: "unknown"},
		{Name: "signature_algorithm", Type: field.TypeString, Nullable: true, Comment: "Certificate signature algorithm"},
		{Name: "public_key_algorithm", Type: field.TypeString, Nullable: true, Comment: "Public key algorithm"},
		{Name: "key_size", Type: field.TypeInt, Nullable: true, Comment: "Key size in bits"},
		{Name: "dns_names", Type: field.TypeJSON, Nullable: true, Comment: "DNS names from certificate SAN"},
		{Name: "email_addresses", Type: field.TypeJSON, Nullable: true, Comment: "Email addresses from certificate SAN"},
		{Name: "not_before", Type: field.TypeTime, Nullable: true, Comment: "Certificate valid from"},
		{Name: "not_after", Type: field.TypeTime, Nullable: true, Comment: "Certificate valid until"},
		{Name: "is_ca", Type: field.TypeBool, Comment: "Whether certificate is a CA certificate", Default: false},
		{Name: "key_usage", Type: field.TypeString, Nullable: true, Comment: "Key usage extensions"},
		{Name: "extended_key_usage", Type: field.TypeJSON, Nullable: true, Comment: "Extended key usage extensions"},
		{Name: "certificate_id", Type: field.TypeString, Unique: true, Comment: "ID of the associated certificate"},
	}
	// CertificateDetailsTable holds the schema information for the "certificate_details" table.
	CertificateDetailsTable = &schema.Table{
		Name:       "certificate_details",
		Columns:    CertificateDetailsColumns,
		PrimaryKey: []*schema.Column{CertificateDetailsColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "certificate_details_issued_certificates_certificate_details",
				Columns:    []*schema.Column{CertificateDetailsColumns[28]},
				RefColumns: []*schema.Column{IssuedCertificatesColumns[0]},
				OnDelete:   schema.NoAction,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "certificatedetails_certificate_id",
				Unique:  true,
				Columns: []*schema.Column{CertificateDetailsColumns[28]},
			},
			{
				Name:    "certificatedetails_serial_number",
				Unique:  false,
				Columns: []*schema.Column{CertificateDetailsColumns[6]},
			},
			{
				Name:    "certificatedetails_issuer_type",
				Unique:  false,
				Columns: []*schema.Column{CertificateDetailsColumns[17]},
			},
			{
				Name:    "certificatedetails_subject_common_name",
				Unique:  false,
				Columns: []*schema.Column{CertificateDetailsColumns[8]},
			},
		},
	}
	// CertificatePermissionsColumns holds the columns for the "certificate_permissions" table.
	CertificatePermissionsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUint32, Increment: true, Comment: "id"},
		{Name: "tenant_id", Type: field.TypeUint32, Nullable: true, Comment: "租户ID", Default: 0},
		{Name: "permission_type", Type: field.TypeEnum, Comment: "Type of permission: READ (view metadata), DOWNLOAD (download cert+key), FULL (all including revoke)", Enums: []string{"READ", "DOWNLOAD", "FULL"}, Default: "READ"},
		{Name: "granted_by", Type: field.TypeString, Comment: "Client ID of the owner who granted permission"},
		{Name: "expires_at", Type: field.TypeTime, Nullable: true, Comment: "Optional expiration time for the permission"},
		{Name: "created_at", Type: field.TypeTime, Comment: "Permission creation time"},
		{Name: "updated_at", Type: field.TypeTime, Comment: "Last update time"},
		{Name: "certificate_id", Type: field.TypeString, Comment: "ID of the issued certificate being shared"},
		{Name: "grantee_id", Type: field.TypeUint32, Comment: "ID of the LCM client receiving access"},
	}
	// CertificatePermissionsTable holds the schema information for the "certificate_permissions" table.
	CertificatePermissionsTable = &schema.Table{
		Name:       "certificate_permissions",
		Columns:    CertificatePermissionsColumns,
		PrimaryKey: []*schema.Column{CertificatePermissionsColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "certificate_permissions_issued_certificates_issued_certificate",
				Columns:    []*schema.Column{CertificatePermissionsColumns[7]},
				RefColumns: []*schema.Column{IssuedCertificatesColumns[0]},
				OnDelete:   schema.NoAction,
			},
			{
				Symbol:     "certificate_permissions_lcm_clients_grantee",
				Columns:    []*schema.Column{CertificatePermissionsColumns[8]},
				RefColumns: []*schema.Column{LcmClientsColumns[0]},
				OnDelete:   schema.NoAction,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "certificatepermission_certificate_id_grantee_id",
				Unique:  true,
				Columns: []*schema.Column{CertificatePermissionsColumns[7], CertificatePermissionsColumns[8]},
			},
			{
				Name:    "certificatepermission_certificate_id",
				Unique:  false,
				Columns: []*schema.Column{CertificatePermissionsColumns[7]},
			},
			{
				Name:    "certificatepermission_grantee_id",
				Unique:  false,
				Columns: []*schema.Column{CertificatePermissionsColumns[8]},
			},
			{
				Name:    "certificatepermission_tenant_id",
				Unique:  false,
				Columns: []*schema.Column{CertificatePermissionsColumns[1]},
			},
			{
				Name:    "certificatepermission_expires_at",
				Unique:  false,
				Columns: []*schema.Column{CertificatePermissionsColumns[4]},
			},
			{
				Name:    "certificatepermission_granted_by",
				Unique:  false,
				Columns: []*schema.Column{CertificatePermissionsColumns[3]},
			},
		},
	}
	// CertificateRenewalsColumns holds the columns for the "certificate_renewals" table.
	CertificateRenewalsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeInt, Increment: true},
		{Name: "client_id", Type: field.TypeString, Comment: "Client who owns the certificate"},
		{Name: "status", Type: field.TypeEnum, Comment: "Current renewal status", Enums: []string{"pending", "processing", "completed", "failed", "cancelled"}, Default: "pending"},
		{Name: "scheduled_at", Type: field.TypeTime, Comment: "When the renewal is scheduled to run"},
		{Name: "started_at", Type: field.TypeTime, Nullable: true, Comment: "When the renewal process actually started"},
		{Name: "completed_at", Type: field.TypeTime, Nullable: true, Comment: "When the renewal process completed"},
		{Name: "attempt_number", Type: field.TypeInt32, Comment: "Current attempt number (for retries)", Default: 1},
		{Name: "max_attempts", Type: field.TypeInt32, Comment: "Maximum number of attempts allowed", Default: 3},
		{Name: "error_message", Type: field.TypeString, Nullable: true, Comment: "Error message if renewal failed"},
		{Name: "worker_id", Type: field.TypeString, Nullable: true, Comment: "ID of the worker processing this renewal"},
		{Name: "locked_at", Type: field.TypeTime, Nullable: true, Comment: "When this renewal was locked by a worker"},
		{Name: "lock_expires_at", Type: field.TypeTime, Nullable: true, Comment: "When the worker lock expires"},
		{Name: "renewal_config", Type: field.TypeJSON, Nullable: true, Comment: "Renewal configuration snapshot"},
		{Name: "issuer_name", Type: field.TypeString, Comment: "Issuer to use for renewal"},
		{Name: "domains", Type: field.TypeJSON, Comment: "Domains to renew certificate for"},
		{Name: "original_expires_at", Type: field.TypeTime, Comment: "Original certificate expiration time"},
		{Name: "created_at", Type: field.TypeTime, Comment: "When the renewal was scheduled"},
		{Name: "updated_at", Type: field.TypeTime, Comment: "Last update time"},
		{Name: "certificate_id", Type: field.TypeString, Comment: "ID of the certificate to be renewed"},
	}
	// CertificateRenewalsTable holds the schema information for the "certificate_renewals" table.
	CertificateRenewalsTable = &schema.Table{
		Name:       "certificate_renewals",
		Columns:    CertificateRenewalsColumns,
		PrimaryKey: []*schema.Column{CertificateRenewalsColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "certificate_renewals_issued_certificates_issued_certificate",
				Columns:    []*schema.Column{CertificateRenewalsColumns[18]},
				RefColumns: []*schema.Column{IssuedCertificatesColumns[0]},
				OnDelete:   schema.NoAction,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "certificaterenewal_certificate_id",
				Unique:  false,
				Columns: []*schema.Column{CertificateRenewalsColumns[18]},
			},
			{
				Name:    "certificaterenewal_client_id",
				Unique:  false,
				Columns: []*schema.Column{CertificateRenewalsColumns[1]},
			},
			{
				Name:    "certificaterenewal_status",
				Unique:  false,
				Columns: []*schema.Column{CertificateRenewalsColumns[2]},
			},
			{
				Name:    "certificaterenewal_scheduled_at",
				Unique:  false,
				Columns: []*schema.Column{CertificateRenewalsColumns[3]},
			},
			{
				Name:    "certificaterenewal_status_scheduled_at",
				Unique:  false,
				Columns: []*schema.Column{CertificateRenewalsColumns[2], CertificateRenewalsColumns[3]},
			},
			{
				Name:    "certificaterenewal_worker_id",
				Unique:  false,
				Columns: []*schema.Column{CertificateRenewalsColumns[9]},
			},
			{
				Name:    "certificaterenewal_locked_at",
				Unique:  false,
				Columns: []*schema.Column{CertificateRenewalsColumns[10]},
			},
			{
				Name:    "certificaterenewal_lock_expires_at",
				Unique:  false,
				Columns: []*schema.Column{CertificateRenewalsColumns[11]},
			},
			{
				Name:    "certificaterenewal_status_scheduled_at_attempt_number",
				Unique:  false,
				Columns: []*schema.Column{CertificateRenewalsColumns[2], CertificateRenewalsColumns[3], CertificateRenewalsColumns[6]},
			},
			{
				Name:    "certificaterenewal_status_lock_expires_at",
				Unique:  false,
				Columns: []*schema.Column{CertificateRenewalsColumns[2], CertificateRenewalsColumns[11]},
			},
		},
	}
	// CertificateRequestsColumns holds the columns for the "certificate_requests" table.
	CertificateRequestsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeInt, Increment: true},
		{Name: "request_id", Type: field.TypeString, Unique: true, Comment: "Unique request identifier"},
		{Name: "client_id", Type: field.TypeString, Nullable: true, Comment: "Legacy client identifier (deprecated - use lcm_client relationship)"},
		{Name: "issuer_name", Type: field.TypeString, Nullable: true, Comment: "Issuer to use for this certificate (if not specified, use default)"},
		{Name: "hostname", Type: field.TypeString, Comment: "Client hostname"},
		{Name: "public_key", Type: field.TypeString, Size: 2147483647, Comment: "Client's public key in PEM format"},
		{Name: "dns_names", Type: field.TypeJSON, Nullable: true, Comment: "Additional DNS names for the certificate"},
		{Name: "ip_addresses", Type: field.TypeJSON, Nullable: true, Comment: "IP addresses for the certificate"},
		{Name: "metadata", Type: field.TypeJSON, Nullable: true, Comment: "Client metadata (OS, architecture, etc.)"},
		{Name: "status", Type: field.TypeEnum, Comment: "Certificate status", Enums: []string{"unknown", "issued", "pending", "revoked"}, Default: "pending"},
		{Name: "certificate", Type: field.TypeString, Nullable: true, Size: 2147483647, Comment: "Generated certificate in PEM format"},
		{Name: "expires_at", Type: field.TypeTime, Nullable: true, Comment: "Certificate expiration time"},
		{Name: "revoked_at", Type: field.TypeTime, Nullable: true, Comment: "Certificate revocation time"},
		{Name: "revoked_by", Type: field.TypeString, Nullable: true, Comment: "User who revoked the certificate"},
		{Name: "revoked_reason", Type: field.TypeString, Nullable: true, Comment: "Reason for revocation"},
		{Name: "approved_by", Type: field.TypeString, Nullable: true, Comment: "User who approved the certificate"},
		{Name: "approved_at", Type: field.TypeTime, Nullable: true, Comment: "Certificate approval time"},
		{Name: "created_at", Type: field.TypeTime, Comment: "Creation time"},
		{Name: "updated_at", Type: field.TypeTime, Comment: "Update time"},
		{Name: "certificate_request_issuer", Type: field.TypeUint32, Nullable: true},
		{Name: "lcm_client_certificate_requests", Type: field.TypeUint32, Nullable: true},
	}
	// CertificateRequestsTable holds the schema information for the "certificate_requests" table.
	CertificateRequestsTable = &schema.Table{
		Name:       "certificate_requests",
		Columns:    CertificateRequestsColumns,
		PrimaryKey: []*schema.Column{CertificateRequestsColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "certificate_requests_issuers_issuer",
				Columns:    []*schema.Column{CertificateRequestsColumns[19]},
				RefColumns: []*schema.Column{IssuersColumns[0]},
				OnDelete:   schema.SetNull,
			},
			{
				Symbol:     "certificate_requests_lcm_clients_certificate_requests",
				Columns:    []*schema.Column{CertificateRequestsColumns[20]},
				RefColumns: []*schema.Column{LcmClientsColumns[0]},
				OnDelete:   schema.SetNull,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "certificaterequest_request_id",
				Unique:  false,
				Columns: []*schema.Column{CertificateRequestsColumns[1]},
			},
			{
				Name:    "certificaterequest_client_id",
				Unique:  false,
				Columns: []*schema.Column{CertificateRequestsColumns[2]},
			},
			{
				Name:    "certificaterequest_status",
				Unique:  false,
				Columns: []*schema.Column{CertificateRequestsColumns[9]},
			},
			{
				Name:    "certificaterequest_created_at",
				Unique:  false,
				Columns: []*schema.Column{CertificateRequestsColumns[17]},
			},
		},
	}
	// ClientIssuersColumns holds the columns for the "client_issuers" table.
	ClientIssuersColumns = []*schema.Column{
		{Name: "id", Type: field.TypeInt, Increment: true},
		{Name: "client_id", Type: field.TypeString, Nullable: true, Comment: "Legacy client identifier (deprecated - use lcm_client relationship)"},
		{Name: "issuer_name", Type: field.TypeString, Comment: "Issuer name"},
		{Name: "is_default", Type: field.TypeBool, Comment: "Whether this is the default issuer for this client", Default: false},
		{Name: "priority", Type: field.TypeInt, Comment: "Priority order for issuer selection (higher = preferred)", Default: 0},
		{Name: "created_at", Type: field.TypeTime, Comment: "Creation time"},
		{Name: "updated_at", Type: field.TypeTime, Comment: "Update time"},
		{Name: "client_issuer_issuer", Type: field.TypeUint32},
		{Name: "client_issuer_lcm_client", Type: field.TypeUint32, Nullable: true},
	}
	// ClientIssuersTable holds the schema information for the "client_issuers" table.
	ClientIssuersTable = &schema.Table{
		Name:       "client_issuers",
		Columns:    ClientIssuersColumns,
		PrimaryKey: []*schema.Column{ClientIssuersColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "client_issuers_issuers_issuer",
				Columns:    []*schema.Column{ClientIssuersColumns[7]},
				RefColumns: []*schema.Column{IssuersColumns[0]},
				OnDelete:   schema.NoAction,
			},
			{
				Symbol:     "client_issuers_lcm_clients_lcm_client",
				Columns:    []*schema.Column{ClientIssuersColumns[8]},
				RefColumns: []*schema.Column{LcmClientsColumns[0]},
				OnDelete:   schema.SetNull,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "clientissuer_client_id_issuer_name",
				Unique:  true,
				Columns: []*schema.Column{ClientIssuersColumns[1], ClientIssuersColumns[2]},
			},
			{
				Name:    "clientissuer_client_id",
				Unique:  false,
				Columns: []*schema.Column{ClientIssuersColumns[1]},
			},
			{
				Name:    "clientissuer_issuer_name",
				Unique:  false,
				Columns: []*schema.Column{ClientIssuersColumns[2]},
			},
			{
				Name:    "clientissuer_client_id_is_default",
				Unique:  false,
				Columns: []*schema.Column{ClientIssuersColumns[1], ClientIssuersColumns[3]},
			},
			{
				Name:    "clientissuer_client_id_priority",
				Unique:  false,
				Columns: []*schema.Column{ClientIssuersColumns[1], ClientIssuersColumns[4]},
			},
			{
				Name:    "clientissuer_created_at",
				Unique:  false,
				Columns: []*schema.Column{ClientIssuersColumns[5]},
			},
		},
	}
	// IssuedCertificatesColumns holds the columns for the "issued_certificates" table.
	IssuedCertificatesColumns = []*schema.Column{
		{Name: "id", Type: field.TypeString, Unique: true, Comment: "Unique certificate identifier"},
		{Name: "client_id", Type: field.TypeString, Nullable: true, Comment: "Legacy client identifier (deprecated - use lcm_client relationship)"},
		{Name: "issuer_name", Type: field.TypeString, Comment: "Name of the issuer that issued this certificate"},
		{Name: "issuer_type", Type: field.TypeString, Nullable: true, Comment: "Type of the issuer (e.g., 'self_signed', 'acme')"},
		{Name: "tenant_id", Type: field.TypeUint32, Nullable: true, Comment: "Tenant ID for multi-tenancy"},
		{Name: "common_name", Type: field.TypeString, Nullable: true, Comment: "Certificate common name"},
		{Name: "domains", Type: field.TypeJSON, Comment: "Domain names covered by this certificate (DNS SANs)"},
		{Name: "ip_addresses", Type: field.TypeJSON, Nullable: true, Comment: "IP addresses covered by this certificate (IP SANs)"},
		{Name: "status", Type: field.TypeEnum, Comment: "Current certificate status", Enums: []string{"unspecified", "pending", "processing", "issued", "expired", "revoked", "failed", "renewed"}, Default: "pending"},
		{Name: "cert_pem", Type: field.TypeString, Nullable: true, Size: 2147483647, Comment: "Certificate in PEM format"},
		{Name: "private_key_pem", Type: field.TypeString, Nullable: true, Size: 2147483647, Comment: "Private key in PEM format (encrypted, only for server-generated keys)"},
		{Name: "server_generated_key", Type: field.TypeBool, Comment: "True if private key was generated by server (no CSR provided)", Default: false},
		{Name: "ca_cert_pem", Type: field.TypeString, Nullable: true, Size: 2147483647, Comment: "CA certificate chain in PEM format"},
		{Name: "csr_pem", Type: field.TypeString, Nullable: true, Size: 2147483647, Comment: "Original Certificate Signing Request in PEM format"},
		{Name: "certificate_fingerprint", Type: field.TypeString, Nullable: true, Comment: "Certificate fingerprint/hash"},
		{Name: "error_message", Type: field.TypeString, Nullable: true, Comment: "Error message if certificate issuance failed"},
		{Name: "key_type", Type: field.TypeEnum, Nullable: true, Comment: "Type of key used", Enums: []string{"rsa", "ecdsa", "ed25519"}},
		{Name: "key_size", Type: field.TypeInt32, Nullable: true, Comment: "Size of the key in bits"},
		{Name: "auto_renew_enabled", Type: field.TypeBool, Comment: "Whether auto-renewal is enabled", Default: false},
		{Name: "auto_renew_days_before_expiry", Type: field.TypeInt32, Nullable: true, Comment: "Days before expiry to start renewal process", Default: 30},
		{Name: "auto_renew_max_attempts", Type: field.TypeInt32, Nullable: true, Comment: "Maximum number of renewal attempts", Default: 3},
		{Name: "auto_renew_retry_interval_seconds", Type: field.TypeInt64, Nullable: true, Comment: "Interval between renewal retry attempts in seconds", Default: 3600},
		{Name: "last_renewal_at", Type: field.TypeTime, Nullable: true, Comment: "Last time certificate was renewed"},
		{Name: "renewal_attempts", Type: field.TypeInt32, Comment: "Number of renewal attempts made", Default: 0},
		{Name: "expires_at", Type: field.TypeTime, Nullable: true, Comment: "Certificate expiration time"},
		{Name: "revoked_at", Type: field.TypeTime, Nullable: true, Comment: "Certificate revocation time"},
		{Name: "revoked_reason", Type: field.TypeString, Nullable: true, Comment: "Reason for certificate revocation"},
		{Name: "created_at", Type: field.TypeTime, Comment: "Certificate creation time"},
		{Name: "updated_at", Type: field.TypeTime, Comment: "Last update time"},
		{Name: "lcm_client_issued_certificates", Type: field.TypeUint32, Nullable: true},
	}
	// IssuedCertificatesTable holds the schema information for the "issued_certificates" table.
	IssuedCertificatesTable = &schema.Table{
		Name:       "issued_certificates",
		Columns:    IssuedCertificatesColumns,
		PrimaryKey: []*schema.Column{IssuedCertificatesColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "issued_certificates_lcm_clients_issued_certificates",
				Columns:    []*schema.Column{IssuedCertificatesColumns[29]},
				RefColumns: []*schema.Column{LcmClientsColumns[0]},
				OnDelete:   schema.SetNull,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "issuedcertificate_id",
				Unique:  false,
				Columns: []*schema.Column{IssuedCertificatesColumns[0]},
			},
			{
				Name:    "issuedcertificate_tenant_id",
				Unique:  false,
				Columns: []*schema.Column{IssuedCertificatesColumns[4]},
			},
			{
				Name:    "issuedcertificate_client_id",
				Unique:  false,
				Columns: []*schema.Column{IssuedCertificatesColumns[1]},
			},
			{
				Name:    "issuedcertificate_issuer_name",
				Unique:  false,
				Columns: []*schema.Column{IssuedCertificatesColumns[2]},
			},
			{
				Name:    "issuedcertificate_status",
				Unique:  false,
				Columns: []*schema.Column{IssuedCertificatesColumns[8]},
			},
			{
				Name:    "issuedcertificate_expires_at",
				Unique:  false,
				Columns: []*schema.Column{IssuedCertificatesColumns[24]},
			},
			{
				Name:    "issuedcertificate_created_at",
				Unique:  false,
				Columns: []*schema.Column{IssuedCertificatesColumns[27]},
			},
			{
				Name:    "issuedcertificate_tenant_id_status",
				Unique:  false,
				Columns: []*schema.Column{IssuedCertificatesColumns[4], IssuedCertificatesColumns[8]},
			},
			{
				Name:    "issuedcertificate_tenant_id_client_id",
				Unique:  false,
				Columns: []*schema.Column{IssuedCertificatesColumns[4], IssuedCertificatesColumns[1]},
			},
			{
				Name:    "issuedcertificate_client_id_status",
				Unique:  false,
				Columns: []*schema.Column{IssuedCertificatesColumns[1], IssuedCertificatesColumns[8]},
			},
			{
				Name:    "issuedcertificate_client_id_issuer_name",
				Unique:  false,
				Columns: []*schema.Column{IssuedCertificatesColumns[1], IssuedCertificatesColumns[2]},
			},
		},
	}
	// IssuersColumns holds the columns for the "issuers" table.
	IssuersColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUint32, Increment: true, Comment: "id"},
		{Name: "create_by", Type: field.TypeUint32, Nullable: true, Comment: "创建者ID"},
		{Name: "update_by", Type: field.TypeUint32, Nullable: true, Comment: "更新者ID"},
		{Name: "create_time", Type: field.TypeTime, Nullable: true, Comment: "创建时间"},
		{Name: "update_time", Type: field.TypeTime, Nullable: true, Comment: "更新时间"},
		{Name: "delete_time", Type: field.TypeTime, Nullable: true, Comment: "删除时间"},
		{Name: "tenant_id", Type: field.TypeUint32, Nullable: true, Comment: "租户ID", Default: 0},
		{Name: "name", Type: field.TypeString, Comment: "issuer name/identifier"},
		{Name: "type", Type: field.TypeEnum, Comment: "Issuer type", Enums: []string{"self-signed", "acme"}},
		{Name: "description", Type: field.TypeString, Nullable: true, Comment: "Human-readable description"},
		{Name: "config", Type: field.TypeJSON, Nullable: true, Comment: "General issuer configuration"},
		{Name: "client_id", Type: field.TypeString, Nullable: true, Comment: "Legacy client ID field (deprecated - use lcm_client relationship)"},
		{Name: "status", Type: field.TypeEnum, Nullable: true, Enums: []string{"ISSUER_STATUS_UNSPECIFIED", "ISSUER_STATUS_ACTIVE", "ISSUER_STATUS_DISABLED", "ISSUER_STATUS_ERROR"}, Default: "ISSUER_STATUS_UNSPECIFIED"},
		{Name: "lcm_client_owned_issuers", Type: field.TypeUint32, Nullable: true},
	}
	// IssuersTable holds the schema information for the "issuers" table.
	IssuersTable = &schema.Table{
		Name:       "issuers",
		Columns:    IssuersColumns,
		PrimaryKey: []*schema.Column{IssuersColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "issuers_lcm_clients_owned_issuers",
				Columns:    []*schema.Column{IssuersColumns[13]},
				RefColumns: []*schema.Column{LcmClientsColumns[0]},
				OnDelete:   schema.SetNull,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "issuer_tenant_id",
				Unique:  false,
				Columns: []*schema.Column{IssuersColumns[6]},
			},
			{
				Name:    "issuer_name",
				Unique:  false,
				Columns: []*schema.Column{IssuersColumns[7]},
			},
			{
				Name:    "issuer_type",
				Unique:  false,
				Columns: []*schema.Column{IssuersColumns[8]},
			},
			{
				Name:    "issuer_client_id",
				Unique:  false,
				Columns: []*schema.Column{IssuersColumns[11]},
			},
			{
				Name:    "issuer_tenant_id_name",
				Unique:  true,
				Columns: []*schema.Column{IssuersColumns[6], IssuersColumns[7]},
			},
		},
	}
	// LcmCaColumns holds the columns for the "lcm_ca" table.
	LcmCaColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUint32, Increment: true, Comment: "id"},
		{Name: "create_by", Type: field.TypeUint32, Nullable: true, Comment: "创建者ID"},
		{Name: "update_by", Type: field.TypeUint32, Nullable: true, Comment: "更新者ID"},
		{Name: "create_time", Type: field.TypeTime, Nullable: true, Comment: "创建时间"},
		{Name: "update_time", Type: field.TypeTime, Nullable: true, Comment: "更新时间"},
		{Name: "delete_time", Type: field.TypeTime, Nullable: true, Comment: "删除时间"},
		{Name: "tenant_id", Type: field.TypeUint32, Nullable: true, Comment: "租户ID", Default: 0},
		{Name: "key_pem", Type: field.TypeString, Comment: "PEM encoded private key"},
		{Name: "certificate_pem", Type: field.TypeString, Nullable: true, Comment: "PEM encoded certificate"},
		{Name: "fingerprint", Type: field.TypeString, Nullable: true, Comment: "Certificate fingerprint"},
		{Name: "subject", Type: field.TypeString, Nullable: true, Comment: "Subject of the certificate"},
		{Name: "serial", Type: field.TypeString, Nullable: true, Comment: "Serial number of the certificate"},
		{Name: "not_before", Type: field.TypeTime, Nullable: true, Comment: "Not before time"},
		{Name: "not_after", Type: field.TypeTime, Nullable: true, Comment: "Not after time"},
		{Name: "lcm_client_lcm_ca", Type: field.TypeUint32, Unique: true, Nullable: true},
	}
	// LcmCaTable holds the schema information for the "lcm_ca" table.
	LcmCaTable = &schema.Table{
		Name:       "lcm_ca",
		Columns:    LcmCaColumns,
		PrimaryKey: []*schema.Column{LcmCaColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "lcm_ca_lcm_clients_lcm_ca",
				Columns:    []*schema.Column{LcmCaColumns[14]},
				RefColumns: []*schema.Column{LcmClientsColumns[0]},
				OnDelete:   schema.SetNull,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "lcmca_tenant_id",
				Unique:  false,
				Columns: []*schema.Column{LcmCaColumns[6]},
			},
		},
	}
	// LcmClientsColumns holds the columns for the "lcm_clients" table.
	LcmClientsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUint32, Increment: true, Comment: "id"},
		{Name: "create_by", Type: field.TypeUint32, Nullable: true, Comment: "创建者ID"},
		{Name: "update_by", Type: field.TypeUint32, Nullable: true, Comment: "更新者ID"},
		{Name: "create_time", Type: field.TypeTime, Nullable: true, Comment: "创建时间"},
		{Name: "update_time", Type: field.TypeTime, Nullable: true, Comment: "更新时间"},
		{Name: "delete_time", Type: field.TypeTime, Nullable: true, Comment: "删除时间"},
		{Name: "tenant_id", Type: field.TypeUint32, Nullable: true, Comment: "租户ID", Default: 0},
		{Name: "client_id", Type: field.TypeString, Comment: "Client identifier (unique per tenant)"},
		{Name: "description", Type: field.TypeString, Nullable: true, Comment: "Client description"},
		{Name: "organization", Type: field.TypeString, Nullable: true, Comment: "Client organization"},
		{Name: "contact_email", Type: field.TypeString, Nullable: true, Comment: "Contact email for this client"},
		{Name: "metadata", Type: field.TypeJSON, Nullable: true, Comment: "Additional client metadata"},
		{Name: "status", Type: field.TypeEnum, Nullable: true, Comment: "Client status", Enums: []string{"LCM_CLIENT_UNSPECIFIED", "LCM_CLIENT_ACTIVE", "LCM_CLIENT_DISABLED", "LCM_CLIENT_SUSPENDED"}, Default: "LCM_CLIENT_ACTIVE"},
	}
	// LcmClientsTable holds the schema information for the "lcm_clients" table.
	LcmClientsTable = &schema.Table{
		Name:       "lcm_clients",
		Columns:    LcmClientsColumns,
		PrimaryKey: []*schema.Column{LcmClientsColumns[0]},
		Indexes: []*schema.Index{
			{
				Name:    "lcmclient_tenant_id_client_id",
				Unique:  true,
				Columns: []*schema.Column{LcmClientsColumns[6], LcmClientsColumns[7]},
			},
			{
				Name:    "lcmclient_tenant_id",
				Unique:  false,
				Columns: []*schema.Column{LcmClientsColumns[6]},
			},
			{
				Name:    "lcmclient_status",
				Unique:  false,
				Columns: []*schema.Column{LcmClientsColumns[12]},
			},
			{
				Name:    "lcmclient_organization",
				Unique:  false,
				Columns: []*schema.Column{LcmClientsColumns[9]},
			},
		},
	}
	// MtlsCertificatesColumns holds the columns for the "mtls_certificates" table.
	MtlsCertificatesColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUint32, Increment: true, Comment: "id"},
		{Name: "create_by", Type: field.TypeUint32, Nullable: true, Comment: "创建者ID"},
		{Name: "update_by", Type: field.TypeUint32, Nullable: true, Comment: "更新者ID"},
		{Name: "create_time", Type: field.TypeTime, Nullable: true, Comment: "创建时间"},
		{Name: "update_time", Type: field.TypeTime, Nullable: true, Comment: "更新时间"},
		{Name: "delete_time", Type: field.TypeTime, Nullable: true, Comment: "删除时间"},
		{Name: "tenant_id", Type: field.TypeUint32, Nullable: true, Comment: "租户ID", Default: 0},
		{Name: "serial_number", Type: field.TypeInt64, Unique: true, Comment: "Unique certificate serial number (bigint)"},
		{Name: "client_id", Type: field.TypeString, Nullable: true, Comment: "Owner client ID"},
		{Name: "common_name", Type: field.TypeString, Nullable: true, Comment: "Subject Common Name (CN)"},
		{Name: "subject_dn", Type: field.TypeString, Nullable: true, Comment: "Full subject distinguished name"},
		{Name: "issuer_dn", Type: field.TypeString, Nullable: true, Comment: "Issuer distinguished name"},
		{Name: "issuer_name", Type: field.TypeString, Nullable: true, Comment: "Issuer name/identifier"},
		{Name: "fingerprint_sha256", Type: field.TypeString, Unique: true, Nullable: true, Comment: "SHA-256 fingerprint"},
		{Name: "fingerprint_sha1", Type: field.TypeString, Nullable: true, Comment: "SHA-1 fingerprint (for compatibility)"},
		{Name: "public_key_algorithm", Type: field.TypeString, Nullable: true, Comment: "Public key algorithm (e.g., RSA, ECDSA)"},
		{Name: "public_key_size", Type: field.TypeInt32, Nullable: true, Comment: "Key size in bits"},
		{Name: "signature_algorithm", Type: field.TypeString, Nullable: true, Comment: "Signature algorithm (e.g., SHA256WithRSA)"},
		{Name: "certificate_pem", Type: field.TypeString, Nullable: true, Size: 2147483647, Comment: "PEM-encoded certificate"},
		{Name: "public_key_pem", Type: field.TypeString, Nullable: true, Size: 2147483647, Comment: "PEM-encoded public key"},
		{Name: "dns_names", Type: field.TypeJSON, Nullable: true, Comment: "Subject Alternative Names - DNS"},
		{Name: "ip_addresses", Type: field.TypeJSON, Nullable: true, Comment: "Subject Alternative Names - IPs"},
		{Name: "email_addresses", Type: field.TypeJSON, Nullable: true, Comment: "Subject Alternative Names - Email"},
		{Name: "uris", Type: field.TypeJSON, Nullable: true, Comment: "Subject Alternative Names - URIs"},
		{Name: "cert_type", Type: field.TypeEnum, Nullable: true, Comment: "Certificate type", Enums: []string{"MTLS_CERT_TYPE_UNSPECIFIED", "MTLS_CERT_TYPE_CLIENT", "MTLS_CERT_TYPE_INTERNAL"}, Default: "MTLS_CERT_TYPE_CLIENT"},
		{Name: "status", Type: field.TypeEnum, Nullable: true, Comment: "Certificate status", Enums: []string{"MTLS_CERTIFICATE_STATUS_UNSPECIFIED", "MTLS_CERTIFICATE_STATUS_ACTIVE", "MTLS_CERTIFICATE_STATUS_EXPIRED", "MTLS_CERTIFICATE_STATUS_REVOKED", "MTLS_CERTIFICATE_STATUS_SUSPENDED"}, Default: "MTLS_CERTIFICATE_STATUS_ACTIVE"},
		{Name: "is_ca", Type: field.TypeBool, Comment: "Is this a CA certificate", Default: false},
		{Name: "path_len_constraint", Type: field.TypeInt32, Nullable: true, Comment: "CA path length constraint"},
		{Name: "key_usage", Type: field.TypeJSON, Nullable: true, Comment: "Key usage extensions"},
		{Name: "ext_key_usage", Type: field.TypeJSON, Nullable: true, Comment: "Extended key usage"},
		{Name: "metadata", Type: field.TypeJSON, Nullable: true, Comment: "Custom metadata"},
		{Name: "notes", Type: field.TypeString, Nullable: true, Size: 2147483647, Comment: "Admin notes"},
		{Name: "request_id", Type: field.TypeUint32, Nullable: true, Comment: "Link to certificate request ID"},
		{Name: "revocation_reason", Type: field.TypeEnum, Nullable: true, Comment: "Revocation reason (RFC 5280)", Enums: []string{"MTLS_CERT_REVOCATION_REASON_UNSPECIFIED", "MTLS_CERT_REVOCATION_REASON_KEY_COMPROMISE", "MTLS_CERT_REVOCATION_REASON_CA_COMPROMISE", "MTLS_CERT_REVOCATION_REASON_AFFILIATION_CHANGED", "MTLS_CERT_REVOCATION_REASON_SUPERSEDED", "MTLS_CERT_REVOCATION_REASON_CESSATION_OF_OPERATION", "MTLS_CERT_REVOCATION_REASON_CERTIFICATE_HOLD", "MTLS_CERT_REVOCATION_REASON_PRIVILEGE_WITHDRAWN", "MTLS_CERT_REVOCATION_REASON_AA_COMPROMISE"}},
		{Name: "revocation_notes", Type: field.TypeString, Nullable: true, Size: 2147483647, Comment: "Notes about the revocation"},
		{Name: "issued_by", Type: field.TypeUint32, Nullable: true, Comment: "User ID who issued the certificate"},
		{Name: "revoked_by", Type: field.TypeUint32, Nullable: true, Comment: "User ID who revoked the certificate"},
		{Name: "not_before", Type: field.TypeTime, Nullable: true, Comment: "Certificate validity start time"},
		{Name: "not_after", Type: field.TypeTime, Nullable: true, Comment: "Certificate validity end time"},
		{Name: "issued_at", Type: field.TypeTime, Nullable: true, Comment: "Certificate issuance timestamp"},
		{Name: "revoked_at", Type: field.TypeTime, Nullable: true, Comment: "Certificate revocation timestamp"},
		{Name: "last_seen_at", Type: field.TypeTime, Nullable: true, Comment: "Last time this certificate was used for authentication"},
		{Name: "lcm_client_mtls_certificates", Type: field.TypeUint32, Nullable: true},
	}
	// MtlsCertificatesTable holds the schema information for the "mtls_certificates" table.
	MtlsCertificatesTable = &schema.Table{
		Name:       "mtls_certificates",
		Columns:    MtlsCertificatesColumns,
		PrimaryKey: []*schema.Column{MtlsCertificatesColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "mtls_certificates_lcm_clients_mtls_certificates",
				Columns:    []*schema.Column{MtlsCertificatesColumns[42]},
				RefColumns: []*schema.Column{LcmClientsColumns[0]},
				OnDelete:   schema.SetNull,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "mtlscertificate_tenant_id",
				Unique:  false,
				Columns: []*schema.Column{MtlsCertificatesColumns[6]},
			},
			{
				Name:    "mtlscertificate_tenant_id_serial_number",
				Unique:  false,
				Columns: []*schema.Column{MtlsCertificatesColumns[6], MtlsCertificatesColumns[7]},
			},
			{
				Name:    "mtlscertificate_serial_number",
				Unique:  false,
				Columns: []*schema.Column{MtlsCertificatesColumns[7]},
			},
			{
				Name:    "mtlscertificate_tenant_id_client_id",
				Unique:  false,
				Columns: []*schema.Column{MtlsCertificatesColumns[6], MtlsCertificatesColumns[8]},
			},
			{
				Name:    "mtlscertificate_client_id",
				Unique:  false,
				Columns: []*schema.Column{MtlsCertificatesColumns[8]},
			},
			{
				Name:    "mtlscertificate_common_name",
				Unique:  false,
				Columns: []*schema.Column{MtlsCertificatesColumns[9]},
			},
			{
				Name:    "mtlscertificate_fingerprint_sha256",
				Unique:  false,
				Columns: []*schema.Column{MtlsCertificatesColumns[13]},
			},
			{
				Name:    "mtlscertificate_fingerprint_sha1",
				Unique:  false,
				Columns: []*schema.Column{MtlsCertificatesColumns[14]},
			},
			{
				Name:    "mtlscertificate_issuer_name",
				Unique:  false,
				Columns: []*schema.Column{MtlsCertificatesColumns[12]},
			},
			{
				Name:    "mtlscertificate_status",
				Unique:  false,
				Columns: []*schema.Column{MtlsCertificatesColumns[25]},
			},
			{
				Name:    "mtlscertificate_not_after",
				Unique:  false,
				Columns: []*schema.Column{MtlsCertificatesColumns[38]},
			},
			{
				Name:    "mtlscertificate_last_seen_at",
				Unique:  false,
				Columns: []*schema.Column{MtlsCertificatesColumns[41]},
			},
			{
				Name:    "mtlscertificate_request_id",
				Unique:  false,
				Columns: []*schema.Column{MtlsCertificatesColumns[32]},
			},
		},
	}
	// MtlsCertificateRequestsColumns holds the columns for the "mtls_certificate_requests" table.
	MtlsCertificateRequestsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUint32, Increment: true, Comment: "id"},
		{Name: "create_by", Type: field.TypeUint32, Nullable: true, Comment: "创建者ID"},
		{Name: "update_by", Type: field.TypeUint32, Nullable: true, Comment: "更新者ID"},
		{Name: "create_time", Type: field.TypeTime, Nullable: true, Comment: "创建时间"},
		{Name: "update_time", Type: field.TypeTime, Nullable: true, Comment: "更新时间"},
		{Name: "delete_time", Type: field.TypeTime, Nullable: true, Comment: "删除时间"},
		{Name: "tenant_id", Type: field.TypeUint32, Nullable: true, Comment: "租户ID", Default: 0},
		{Name: "request_id", Type: field.TypeString, Unique: true, Comment: "UUID for tracking the request"},
		{Name: "client_id", Type: field.TypeString, Comment: "Requesting client ID"},
		{Name: "common_name", Type: field.TypeString, Nullable: true, Comment: "Common Name (CN) for the certificate"},
		{Name: "csr_pem", Type: field.TypeString, Nullable: true, Size: 2147483647, Comment: "PEM-encoded Certificate Signing Request"},
		{Name: "public_key", Type: field.TypeString, Nullable: true, Size: 2147483647, Comment: "Public key from CSR in PEM format"},
		{Name: "dns_names", Type: field.TypeJSON, Nullable: true, Comment: "Subject Alternative Names - DNS"},
		{Name: "ip_addresses", Type: field.TypeJSON, Nullable: true, Comment: "Subject Alternative Names - IPs"},
		{Name: "issuer_name", Type: field.TypeString, Nullable: true, Comment: "Issuer to use for signing"},
		{Name: "cert_type", Type: field.TypeEnum, Nullable: true, Comment: "Certificate type", Enums: []string{"MTLS_CERT_TYPE_UNSPECIFIED", "MTLS_CERT_TYPE_CLIENT", "MTLS_CERT_TYPE_INTERNAL"}, Default: "MTLS_CERT_TYPE_CLIENT"},
		{Name: "status", Type: field.TypeEnum, Nullable: true, Comment: "Certificate request status", Enums: []string{"MTLS_CERTIFICATE_REQUEST_STATUS_UNSPECIFIED", "MTLS_CERTIFICATE_REQUEST_STATUS_PENDING", "MTLS_CERTIFICATE_REQUEST_STATUS_APPROVED", "MTLS_CERTIFICATE_REQUEST_STATUS_REJECTED", "MTLS_CERTIFICATE_REQUEST_STATUS_ISSUED", "MTLS_CERTIFICATE_REQUEST_STATUS_CANCELLED"}, Default: "MTLS_CERTIFICATE_REQUEST_STATUS_PENDING"},
		{Name: "validity_days", Type: field.TypeInt32, Nullable: true, Comment: "Requested validity period in days"},
		{Name: "reject_reason", Type: field.TypeString, Nullable: true, Comment: "Reason for rejection"},
		{Name: "metadata", Type: field.TypeJSON, Nullable: true, Comment: "Custom metadata"},
		{Name: "notes", Type: field.TypeString, Nullable: true, Size: 2147483647, Comment: "Admin notes"},
		{Name: "approved_by", Type: field.TypeUint32, Nullable: true, Comment: "User ID who approved the request"},
		{Name: "rejected_by", Type: field.TypeUint32, Nullable: true, Comment: "User ID who rejected the request"},
		{Name: "approved_at", Type: field.TypeTime, Nullable: true, Comment: "Approval timestamp"},
		{Name: "rejected_at", Type: field.TypeTime, Nullable: true, Comment: "Rejection timestamp"},
		{Name: "expires_at", Type: field.TypeTime, Nullable: true, Comment: "Request expiration timestamp"},
		{Name: "certificate_serial", Type: field.TypeInt64, Nullable: true, Comment: "Issued certificate serial number (if approved)"},
		{Name: "lcm_client_mtls_certificate_requests", Type: field.TypeUint32, Nullable: true},
	}
	// MtlsCertificateRequestsTable holds the schema information for the "mtls_certificate_requests" table.
	MtlsCertificateRequestsTable = &schema.Table{
		Name:       "mtls_certificate_requests",
		Columns:    MtlsCertificateRequestsColumns,
		PrimaryKey: []*schema.Column{MtlsCertificateRequestsColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "mtls_certificate_requests_lcm_clients_mtls_certificate_requests",
				Columns:    []*schema.Column{MtlsCertificateRequestsColumns[27]},
				RefColumns: []*schema.Column{LcmClientsColumns[0]},
				OnDelete:   schema.SetNull,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "mtlscertificaterequest_tenant_id",
				Unique:  false,
				Columns: []*schema.Column{MtlsCertificateRequestsColumns[6]},
			},
			{
				Name:    "mtlscertificaterequest_tenant_id_request_id",
				Unique:  true,
				Columns: []*schema.Column{MtlsCertificateRequestsColumns[6], MtlsCertificateRequestsColumns[7]},
			},
			{
				Name:    "mtlscertificaterequest_request_id",
				Unique:  false,
				Columns: []*schema.Column{MtlsCertificateRequestsColumns[7]},
			},
			{
				Name:    "mtlscertificaterequest_tenant_id_client_id",
				Unique:  false,
				Columns: []*schema.Column{MtlsCertificateRequestsColumns[6], MtlsCertificateRequestsColumns[8]},
			},
			{
				Name:    "mtlscertificaterequest_client_id",
				Unique:  false,
				Columns: []*schema.Column{MtlsCertificateRequestsColumns[8]},
			},
			{
				Name:    "mtlscertificaterequest_common_name",
				Unique:  false,
				Columns: []*schema.Column{MtlsCertificateRequestsColumns[9]},
			},
			{
				Name:    "mtlscertificaterequest_status",
				Unique:  false,
				Columns: []*schema.Column{MtlsCertificateRequestsColumns[16]},
			},
			{
				Name:    "mtlscertificaterequest_issuer_name",
				Unique:  false,
				Columns: []*schema.Column{MtlsCertificateRequestsColumns[14]},
			},
			{
				Name:    "mtlscertificaterequest_expires_at",
				Unique:  false,
				Columns: []*schema.Column{MtlsCertificateRequestsColumns[25]},
			},
			{
				Name:    "mtlscertificaterequest_certificate_serial",
				Unique:  false,
				Columns: []*schema.Column{MtlsCertificateRequestsColumns[26]},
			},
		},
	}
	// SelfSignedIssuersColumns holds the columns for the "self_signed_issuers" table.
	SelfSignedIssuersColumns = []*schema.Column{
		{Name: "id", Type: field.TypeInt, Increment: true},
		{Name: "common_name", Type: field.TypeString, Comment: "Common name for self-signed certificates"},
		{Name: "dns_names", Type: field.TypeJSON, Nullable: true, Comment: "DNS names for self-signed certificates"},
		{Name: "ip_addresses", Type: field.TypeJSON, Nullable: true, Comment: "IP addresses for self-signed certificates"},
		{Name: "ca_common_name", Type: field.TypeString, Comment: "CA certificate common name"},
		{Name: "ca_organization", Type: field.TypeString, Nullable: true, Comment: "CA certificate organization"},
		{Name: "ca_organizational_unit", Type: field.TypeString, Nullable: true, Comment: "CA certificate organizational unit"},
		{Name: "ca_country", Type: field.TypeString, Nullable: true, Comment: "CA certificate country code (2 letters)"},
		{Name: "ca_province", Type: field.TypeString, Nullable: true, Comment: "CA certificate province/state"},
		{Name: "ca_locality", Type: field.TypeString, Nullable: true, Comment: "CA certificate locality/city"},
		{Name: "ca_validity_days", Type: field.TypeInt32, Comment: "CA certificate validity in days", Default: 365},
		{Name: "ca_certificate_pem", Type: field.TypeString, Nullable: true, Size: 2147483647, Comment: "CA certificate in PEM format"},
		{Name: "ca_private_key_pem", Type: field.TypeString, Nullable: true, Size: 2147483647, Comment: "CA private key in PEM format (server-side only, never exposed)"},
		{Name: "ca_certificate_fingerprint", Type: field.TypeString, Nullable: true, Comment: "CA certificate fingerprint for identification"},
		{Name: "ca_expires_at", Type: field.TypeTime, Nullable: true, Comment: "CA certificate expiration time"},
		{Name: "created_at", Type: field.TypeTime, Comment: "Creation time"},
		{Name: "updated_at", Type: field.TypeTime, Comment: "Update time"},
		{Name: "issuer_self_signed_configs", Type: field.TypeUint32},
	}
	// SelfSignedIssuersTable holds the schema information for the "self_signed_issuers" table.
	SelfSignedIssuersTable = &schema.Table{
		Name:       "self_signed_issuers",
		Columns:    SelfSignedIssuersColumns,
		PrimaryKey: []*schema.Column{SelfSignedIssuersColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "self_signed_issuers_issuers_self_signed_configs",
				Columns:    []*schema.Column{SelfSignedIssuersColumns[17]},
				RefColumns: []*schema.Column{IssuersColumns[0]},
				OnDelete:   schema.NoAction,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "selfsignedissuer_common_name",
				Unique:  false,
				Columns: []*schema.Column{SelfSignedIssuersColumns[1]},
			},
			{
				Name:    "selfsignedissuer_ca_common_name",
				Unique:  false,
				Columns: []*schema.Column{SelfSignedIssuersColumns[4]},
			},
			{
				Name:    "selfsignedissuer_created_at",
				Unique:  false,
				Columns: []*schema.Column{SelfSignedIssuersColumns[15]},
			},
		},
	}
	// LcmTenantSecretsColumns holds the columns for the "lcm_tenant_secrets" table.
	LcmTenantSecretsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUint32, Increment: true, Comment: "id"},
		{Name: "create_by", Type: field.TypeUint32, Nullable: true, Comment: "创建者ID"},
		{Name: "update_by", Type: field.TypeUint32, Nullable: true, Comment: "更新者ID"},
		{Name: "create_time", Type: field.TypeTime, Nullable: true, Comment: "创建时间"},
		{Name: "update_time", Type: field.TypeTime, Nullable: true, Comment: "更新时间"},
		{Name: "delete_time", Type: field.TypeTime, Nullable: true, Comment: "删除时间"},
		{Name: "tenant_id", Type: field.TypeUint32, Comment: "Tenant ID this secret belongs to"},
		{Name: "secret_hash", Type: field.TypeString, Comment: "SHA-256 hash of the shared secret"},
		{Name: "description", Type: field.TypeString, Nullable: true, Comment: "Description of this secret"},
		{Name: "status", Type: field.TypeEnum, Comment: "Secret status", Enums: []string{"TENANT_SECRET_STATUS_UNSPECIFIED", "TENANT_SECRET_STATUS_ACTIVE", "TENANT_SECRET_STATUS_DISABLED"}, Default: "TENANT_SECRET_STATUS_ACTIVE"},
		{Name: "expires_at", Type: field.TypeTime, Nullable: true, Comment: "Expiration time for this secret"},
	}
	// LcmTenantSecretsTable holds the schema information for the "lcm_tenant_secrets" table.
	LcmTenantSecretsTable = &schema.Table{
		Name:       "lcm_tenant_secrets",
		Columns:    LcmTenantSecretsColumns,
		PrimaryKey: []*schema.Column{LcmTenantSecretsColumns[0]},
		Indexes: []*schema.Index{
			{
				Name:    "tenantsecret_tenant_id",
				Unique:  false,
				Columns: []*schema.Column{LcmTenantSecretsColumns[6]},
			},
			{
				Name:    "tenantsecret_secret_hash",
				Unique:  true,
				Columns: []*schema.Column{LcmTenantSecretsColumns[7]},
			},
			{
				Name:    "tenantsecret_status",
				Unique:  false,
				Columns: []*schema.Column{LcmTenantSecretsColumns[9]},
			},
		},
	}
	// Tables holds all the tables in the schema.
	Tables = []*schema.Table{
		AcmeIssuersTable,
		LcmAuditLogsTable,
		CertificateDetailsTable,
		CertificatePermissionsTable,
		CertificateRenewalsTable,
		CertificateRequestsTable,
		ClientIssuersTable,
		IssuedCertificatesTable,
		IssuersTable,
		LcmCaTable,
		LcmClientsTable,
		MtlsCertificatesTable,
		MtlsCertificateRequestsTable,
		SelfSignedIssuersTable,
		LcmTenantSecretsTable,
	}
)

func init() {
	AcmeIssuersTable.ForeignKeys[0].RefTable = IssuersTable
	AcmeIssuersTable.Annotation = &entsql.Annotation{
		Table: "acme_issuers",
	}
	LcmAuditLogsTable.Annotation = &entsql.Annotation{
		Table: "lcm_audit_logs",
	}
	CertificateDetailsTable.ForeignKeys[0].RefTable = IssuedCertificatesTable
	CertificateDetailsTable.Annotation = &entsql.Annotation{
		Table: "certificate_details",
	}
	CertificatePermissionsTable.ForeignKeys[0].RefTable = IssuedCertificatesTable
	CertificatePermissionsTable.ForeignKeys[1].RefTable = LcmClientsTable
	CertificatePermissionsTable.Annotation = &entsql.Annotation{
		Table: "certificate_permissions",
	}
	CertificateRenewalsTable.ForeignKeys[0].RefTable = IssuedCertificatesTable
	CertificateRenewalsTable.Annotation = &entsql.Annotation{
		Table: "certificate_renewals",
	}
	CertificateRequestsTable.ForeignKeys[0].RefTable = IssuersTable
	CertificateRequestsTable.ForeignKeys[1].RefTable = LcmClientsTable
	CertificateRequestsTable.Annotation = &entsql.Annotation{
		Table: "certificate_requests",
	}
	ClientIssuersTable.ForeignKeys[0].RefTable = IssuersTable
	ClientIssuersTable.ForeignKeys[1].RefTable = LcmClientsTable
	ClientIssuersTable.Annotation = &entsql.Annotation{
		Table: "client_issuers",
	}
	IssuedCertificatesTable.ForeignKeys[0].RefTable = LcmClientsTable
	IssuedCertificatesTable.Annotation = &entsql.Annotation{
		Table: "issued_certificates",
	}
	IssuersTable.ForeignKeys[0].RefTable = LcmClientsTable
	IssuersTable.Annotation = &entsql.Annotation{
		Table: "issuers",
	}
	LcmCaTable.ForeignKeys[0].RefTable = LcmClientsTable
	LcmCaTable.Annotation = &entsql.Annotation{
		Table: "lcm_ca",
	}
	LcmClientsTable.Annotation = &entsql.Annotation{
		Table: "lcm_clients",
	}
	MtlsCertificatesTable.ForeignKeys[0].RefTable = LcmClientsTable
	MtlsCertificatesTable.Annotation = &entsql.Annotation{
		Table: "mtls_certificates",
	}
	MtlsCertificateRequestsTable.ForeignKeys[0].RefTable = LcmClientsTable
	MtlsCertificateRequestsTable.Annotation = &entsql.Annotation{
		Table: "mtls_certificate_requests",
	}
	SelfSignedIssuersTable.ForeignKeys[0].RefTable = IssuersTable
	SelfSignedIssuersTable.Annotation = &entsql.Annotation{
		Table: "self_signed_issuers",
	}
	LcmTenantSecretsTable.Annotation = &entsql.Annotation{
		Table: "lcm_tenant_secrets",
	}
}
