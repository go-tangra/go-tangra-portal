# IPAM Service Configuration

ipam:
  # Default settings for IP address allocation
  allocation:
    # Skip first N addresses when allocating (e.g., reserve .0, .1 for network/gateway)
    skip_first: 2
    # Skip last N addresses when allocating (e.g., reserve .255 for broadcast)
    skip_last: 1
    # Default lease duration for dynamic allocations (0 = permanent)
    default_lease_duration: "0s"

  # Subnet scanning settings
  scan:
    # Enable ICMP ping scanning
    enable_ping: true
    # Ping timeout per address
    ping_timeout: "2s"
    # Maximum concurrent ping workers
    max_workers: 50
    # Enable DNS reverse lookup during scan
    enable_dns_lookup: true
    # DNS lookup timeout
    dns_timeout: "5s"

  # VLAN settings
  vlan:
    # Minimum VLAN ID (default 1)
    min_id: 1
    # Maximum VLAN ID (default 4094)
    max_id: 4094

  # Network validation
  validation:
    # Allow overlapping subnets (not recommended)
    allow_overlap: false
    # Require gateway to be within subnet range
    require_gateway_in_range: true
    # Auto-calculate broadcast address
    auto_broadcast: true

  # Cleanup settings
  cleanup:
    # Auto-release expired leases
    enable_lease_cleanup: true
    # Cleanup interval
    cleanup_interval: "1h"
    # Mark addresses as stale after no ping response for this duration
    stale_threshold: "30d"
